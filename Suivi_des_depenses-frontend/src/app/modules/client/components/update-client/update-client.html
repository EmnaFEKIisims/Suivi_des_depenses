<div class="form-container">
  <!-- Alerts Section - Top Center Position -->
  <div class="alert-container">
    <div *ngIf="showSuccessAlert" class="sweet-alert-placeholder" #successAlert></div>
    <div *ngIf="showErrorAlert" class="sweet-alert-placeholder" #errorAlert></div>
  </div>

  <!-- Main Card Container -->
  <div class="main-card">
    <!-- Form Header -->
    <div class="form-header">
      <h1>Update Client</h1>
      <p class="form-subtitle">Please update the details below</p>
    </div>

    <!-- Navigation Buttons -->
    <div class="d-flex justify-content-between mb-4">
      <button class="btn btn-outline-secondary" (click)="navigateTo('/clients')">
        <i class="bi bi-arrow-left"></i> 
      </button>
      <button class="btn btn-outline-primary" (click)="navigateTo('/home')">
        <i class="bi bi-house-fill"></i> 
      </button>
    </div>

    <!-- Form Wrapper -->
    <div class="form-wrapper">
      <div class="form-card">
        <div class="form-card-header">
          <h2><i class="bi bi-person-fill-gear"></i> Client Details</h2>
        </div>
        <div class="form-card-body">
          <form [formGroup]="clientForm" (ngSubmit)="onUpdate()" class="needs-validation" novalidate>
            <div class="form-section">
              <div class="form-grid grid-2">
                <!-- Row 1: Reference + Name -->
                <div class="form-group">
                  <label for="reference" class="form-label">Reference <span class="required">*</span></label>
                  <input type="text" class="form-control" id="reference" formControlName="reference" readonly>
                  <div class="form-text text-danger" *ngIf="clientForm.get('reference')?.invalid && clientForm.get('reference')?.touched">Reference is required!</div>
                </div>
                <div class="form-group">
                  <label for="name" class="form-label">Name <span class="required">*</span></label>
                  <input type="text" class="form-control" id="name" formControlName="name"
                    [ngClass]="{'ng-invalid ng-touched': clientForm.get('name')?.invalid && clientForm.get('name')?.touched && clientForm.get('name')?.value === ''}">
                  <div class="form-text text-danger" *ngIf="clientForm.get('name')?.invalid && clientForm.get('name')?.touched">Name is required!</div>
                </div>
                <!-- Row 2: Email + Registration Date -->
                <div class="form-group">
                  <label for="email" class="form-label">Email <span class="required">*</span></label>
                  <input type="email" class="form-control" id="email" formControlName="email"
                    [ngClass]="{'ng-invalid ng-touched': clientForm.get('email')?.invalid && clientForm.get('email')?.touched && clientForm.get('email')?.value === ''}">
                  <div class="form-text text-danger" *ngIf="clientForm.get('email')?.invalid && clientForm.get('email')?.touched">Valid email is required!</div>
                </div>
                <div class="form-group">
                  <label for="registrationDate" class="form-label">Registration Date <span class="required">*</span></label>
                  <input type="date" class="form-control" id="registrationDate" formControlName="registrationDate"
                    [ngClass]="{'ng-invalid ng-touched': clientForm.get('registrationDate')?.invalid && clientForm.get('registrationDate')?.touched && clientForm.get('registrationDate')?.value === ''}">
                  <div class="form-text text-danger" *ngIf="clientForm.get('registrationDate')?.invalid && clientForm.get('registrationDate')?.touched">Registration date is required!</div>
                </div>
                <!-- Row 3: Address + Continent -->
                <div class="form-group">
                  <label for="address" class="form-label">Address <span class="required">*</span></label>
                  <input type="text" class="form-control" id="address" formControlName="address"
                    [ngClass]="{'ng-invalid ng-touched': clientForm.get('address')?.invalid && clientForm.get('address')?.touched && clientForm.get('address')?.value === ''}">
                  <div class="form-text text-danger" *ngIf="clientForm.get('address')?.invalid && clientForm.get('address')?.touched">Address is required!</div>
                </div>
                <div class="form-group">
                  <label for="continent" class="form-label">Continent <span class="required">*</span></label>
                  <select class="form-select" id="continent" formControlName="continent"
                    [ngClass]="{'ng-invalid ng-touched': clientForm.get('continent')?.invalid && clientForm.get('continent')?.touched && clientForm.get('continent')?.value === ''}">
                    <option value="">Select Continent</option>
                    <option *ngFor="let continent of continents" [value]="continent">{{ continent }}</option>
                  </select>
                  <div class="form-text text-danger" *ngIf="clientForm.get('continent')?.invalid && clientForm.get('continent')?.touched">Continent is required!</div>
                </div>
                <!-- Row 4: Contact Person + Phone Number -->
                <div class="form-group">
                  <label for="contactPerson" class="form-label">Contact Person <span class="required">*</span></label>
                  <input type="text" class="form-control" id="contactPerson" formControlName="contactPerson"
                    [ngClass]="{'ng-invalid ng-touched': clientForm.get('contactPerson')?.invalid && clientForm.get('contactPerson')?.touched && clientForm.get('contactPerson')?.value === ''}">
                  <div class="form-text text-danger" *ngIf="clientForm.get('contactPerson')?.invalid && clientForm.get('contactPerson')?.touched">Contact person is required!</div>
                </div>
                <div class="form-group">
                  <label for="phoneNumber" class="form-label">Phone Number <span class="required">*</span></label>
                  <input type="tel" class="form-control" id="phoneNumber" formControlName="phoneNumber"
                    [ngClass]="{'ng-invalid ng-touched': clientForm.get('phoneNumber')?.invalid && clientForm.get('phoneNumber')?.touched && clientForm.get('phoneNumber')?.value === ''}">
                  <div class="form-text text-danger" *ngIf="clientForm.get('phoneNumber')?.invalid && clientForm.get('phoneNumber')?.touched">Phone number is required!</div>
                </div>
              </div>
            </div>
          </form>
        </div>
        <div class="form-card-footer">
          <div class="form-actions">
            <div class="secondary-actions">
              <button type="button" class="btn btn-cancel" (click)="navigateTo('/clients')">Cancel</button>
            </div>
            <div class="primary-actions">
              <button type="submit" class="btn btn-submit" [disabled]="clientForm.invalid" (click)="onUpdate()">Update Client</button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>